# 트위터 크롤링 (API)

트위터에서 제공하는 공식 API를 이용해 트위터에서 데이터를 수집해보자.

트위터에서는 다양한 API를 제공하지만, 그 중에 키워드 검색을 통한 트윗 수집을 수행해본다.

(키워드 검색 이 외에도 개별 사용자의 타임라인 수집 등이 가능)

### 들어가며

Twitter에서는 공식적으로 API를 이용해 데이터 수집 환경을 제공한다.

이 서비스는 기본적으로 무료로 제공되지만 일부 기능에 제한이 있다.

예를 들어 키워드 검색을 통한 트위터 수집은 최근 7일간의 데이터로 제한되어있다. [[docs]](https://developer.twitter.com/en/docs/tweets/search/overview)

또한 15분당 요청할 수 있는 request의 횟수도 제한되어 있다. (180 times per user auth, 450 times per app auth)

따라서 그 이전 기간의 트위터를 수집하기 위해서는 1) 유료 서비스를 이용하거나, 2) 3rd party에서 개발된 라이브러리를 사용해야한다.

# Twitter API-키워드 검색을 통한 트윗 수집

> 수집된 결과(예시)

id | date(utc) | userid | username | text | retweet_from
--- | --- | --- | --- | --- | ---
1251439261863174144 | 2020-04-18 09:15:45 | 170993468 | 새로운 대한민국 | RT @khwook9: 이거 큰일 입니다 중대원전부 빨리격리 해야할듯 하네요 젊은친... | 1251382335079018496
1251439261485686784 | 2020-04-18 09:15:45 | 1246861575102722048 | 전분 | RT @OO_basic: 엥? 좆주빈 재산 몰수해서 왜 코로나 사태 진정에다가 쓰자... | 1251077873303199749
1251439256934858752 | 2020-04-18 09:15:44 | 439407254 | 취향이 운명이다~ | RT @hohonim70: 340만명 입국했는데 직원 확진 0명.. '코로나 방역관... | 1251280802110779392

## 1. Keys and tokens

트위터 API 사용을 위해서는 Key와 Token이 필요하다.

이는 트위터 측에서 API를 호출한 앱(혹은 사용자)이 누구인지 확인하기 위한 값이다.

https://developer.twitter.com/en/ 에 접속해 개발자 계정을 등록하고 App을 생성하면 API 사용에 필요한 key와 token을 받을 수 있다.

발급받은 key와 token 값을 아래 셀에 입력하자.

```
consumer_key = "..."
consumer_secret = "..."
```
